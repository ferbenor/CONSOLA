<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <system.webServer>
        <staticContent>
            <!-- Configurar tipos MIME para archivos de Velopack -->
            <remove fileExtension=".nupkg" />
            <mimeMap fileExtension=".nupkg" mimeType="application/octet-stream" />

            <remove fileExtension=".json" />
            <mimeMap fileExtension=".json" mimeType="application/json" />

            <remove fileExtension=".exe" />
            <mimeMap fileExtension=".exe" mimeType="application/octet-stream" />

            <remove fileExtension=".zip" />
            <mimeMap fileExtension=".zip" mimeType="application/zip" />

            <!-- Configuración de caché -->
            <clientCache cacheControlMode="UseMaxAge" cacheControlMaxAge="00:05:00" />
        </staticContent>

        <!-- Habilitar compresión -->
        <urlCompression doStaticCompression="true" doDynamicCompression="false" />

        <!-- Permitir descarga de archivos grandes -->
        <security>
            <requestFiltering>
                <requestLimits maxAllowedContentLength="524288000" />
            </requestFiltering>
        </security>

        <!-- Habilitar CORS para permitir descargas desde cualquier origen -->
        <httpProtocol>
            <customHeaders>
                <add name="Access-Control-Allow-Origin" value="*" />
                <add name="Access-Control-Allow-Methods" value="GET, OPTIONS" />
                <add name="Access-Control-Allow-Headers" value="Content-Type" />
            </customHeaders>
        </httpProtocol>

        <!-- Página por defecto -->
        <defaultDocument>
            <files>
                <clear />
                <add value="index.html" />
            </files>
        </defaultDocument>
    </system.webServer>
</configuration>
